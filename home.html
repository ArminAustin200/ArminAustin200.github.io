<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>WareHouseX360</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

	<style>
		/* ---------- Reset / Base ---------- */
		*, *::before, *::after {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
			color: #000;
			background-color: #ffffff;
			line-height: 1.5;
			transition: background 0.25s ease, color 0.25s ease;
		}

		html, body {
  			max-width: 100%;
  			overflow-x: hidden;
		}

		a {
			text-decoration: none;
			color: inherit;
		}

		img {
			max-width: 100%;
			display: block;
		}

		/* ---------- Layout Helpers ---------- */
		.page-wrapper {
			min-height: 100vh;
			display: flex;
			flex-direction: column;
		}

		.container {
			width: min(1200px, 100% - 3rem);
			margin: 0 auto;
		}

		/* ---------- Header / Nav ---------- */
		header {
			border-bottom: 1px solid #ddd;
			background: #fff;
			position: sticky;
			top: 0;
			z-index: 20;
		}

		.nav {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0.75rem 0;
		}

		.nav-left {
			display: flex;
			align-items: center;
			gap: 0.6rem;
		}

		.logo-img {
			width: 120px;
			height: auto;
		}

		.logo-text {
			font-family: "Playfair Display", serif;
			font-size: 1.25rem;
			letter-spacing: 0.08em;
			text-transform: uppercase;
		}

		.nav-center {
			display: flex;
			gap: 3rem;
			font-family: "Playfair Display", serif;
			font-size: 1.5rem;
		}

		.nav-link {
			position: relative;
			padding-bottom: 0.2rem;
		}

		.nav-link::after {
			content: "";
			position: absolute;
			left: 0;
			bottom: 0;
			width: 0;
			height: 2px;
			background: #000;
			transition: width 0.2s ease-out;
		}

		.nav-link:hover::after {
			width: 100%;
		}

		.nav-link.active::after {
      		width: 100%;
    	}

    	.nav-right {
      		display: flex;
      		align-items: center;
      		gap: 0.6rem;
    	}

		.contact-btn {
			font-family: "Playfair Display", serif;
			font-size: 1.2rem;
			padding: 0.35rem 1.4rem;
			border-radius: 999px;
			border: 3px solid #000;
			background: #d97917;
			color: #000;
			box-shadow: 0 3px 0 #000;
			cursor: pointer;
			transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
		}

		.theme-toggle {
			border-radius: 999px;
			border: 2px solid #000;
			background: #fff;
			cursor: pointer;
			padding: 0.25rem 0.7rem;
			font-size: 1rem;
			line-height: 1;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 2px 0 #000;
			transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.1s ease;
    	}

		/* Dark Mode Toggle Button */
		.theme-toggle {
			border: 2px solid #000;
			border-radius: 999px;
			background: #fff;
			cursor: pointer;
			padding: 0.35rem 0.55rem;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 2px 0 #000;
			transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;
		}

		.theme-toggle:hover {
			transform: translateY(1px);
			box-shadow: 0 1px 0 #000;
			background: #f0f0f0;
		}

		/* Theme icon (SVG) animation + invert for dark mode visibility */
		.theme-icon {
			width: 22px;
			height: 22px;
			transition: transform 0.35s ease, filter 0.25s ease;
		}

		body.dark-mode .theme-icon {
			filter: invert(1);
			transform: rotate(180deg);
		}

		.nav-right .contact-btn:hover,
		.footer-contact .contact-btn:hover {
			transform: translateY(1px);
			box-shadow: 0 1px 0 #000;
			background: #e98c28;
		}
		
		/*---------------DARK MODE OVERRIDES---------------*/
		body.dark-mode { 
     		background: #0b0b0b; 
      		color: #f7f7f7; 
    	}

		body.dark-mode header { 
			background: #111; 
			border-bottom-color: #333; 
		}

		body.dark-mode .nav-link::after {
			background: #f7f7f7;
		}

		body.dark-mode .nav-right .contact-btn {
			border-color: #f7f7f7;
			box-shadow: 0 3px 0 #f7f7f7;
		}

		body.dark-mode .theme-toggle { 
			background:#222; 
			border-color:#f7f7f7; 
			box-shadow:0 2px 0 #f7f7f7; 
		}

		body.dark-mode .theme-icon { 
			transform: rotate(180deg);
			filter: invert(1) brightness(1.6); 
		}

		body.dark-mode footer { 
			background:#050505; 
		}

		body.dark-mode .primary-btn, 
		body.dark-mode .secondary-btn {
			border-color:#202020; 
			box-shadow: 0 4px 0 rgba(41, 41, 41, 0.4);
		}

		body.dark-mode .console-card {
			border-color:#333; 
		}

		body.dark-mode .carousel-arrow {
			background: #868686;
		}

		body.dark-mode .carousel-arrow:hover{
			background: #757575;
		}

		body.dark-mode .primary-btn:hover,
		body.dark-mode .secondary-btn:hover {
			background: #757575;
		}

		/* ---------- Hero Section ---------- */
		.hero {
			flex: 1;
			display: flex;
			align-items: stretch;
			padding-block: 3rem;
		}

		.hero-inner {
			display: grid;
			grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
			gap: 2rem;
			align-items: center;
		}

		.hero-left {
			padding-right: 2rem;
		}

		.hero-title {
			font-family: "Playfair Display", serif;
			font-size: clamp(2.6rem, 3.4vw, 3.2rem);
			font-weight: 700;
			margin-bottom: 1.4rem;
		}

		.hero-title span {
			display: block;
		}

		.hero-subtitle {
			font-size: 1.6rem;
			font-weight: 500;
			margin-bottom: 0.6rem;
		}

		.hero-copy {
			font-size: 1.4rem;
			max-width: 28rem;
			margin-bottom: 2.4rem;
		}

		.hero-buttons {
			display: flex;
			gap: 1.2rem;
			flex-wrap: wrap;
		}

		.primary-btn,
		.secondary-btn {
			display: inline-flex;
			align-items: center;
			gap: 0.5rem;
			padding: 0.9rem 1.8rem;
			border-radius: 999px;
			font-size: 1.1rem;
			font-weight: 600;
			border: none;
			cursor: pointer;
			transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.15s ease, color 0.15s ease;
		}

		.primary-btn {
			background: #000;
			color: #fff;
			border: 2px solid #000;
			box-shadow: 0 4px 0 rgba(0, 0, 0, 0.4);
		}

		.primary-btn:hover {
			transform: translateY(1px);
			box-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
			background: #e5e5e5;
		}

		.secondary-btn {
			background: #000;
			color: #fff;
			border: 2px solid #000;
			box-shadow: 0 4px 0 rgba(0, 0, 0, 0.4);
		}

		.secondary-btn:hover {
			transform: translateY(1px);
			box-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
			background: #e5e5e5;
		}

		.btn-icon {
			width: 1.4rem;      /* tweak size as you like */
			height: 1.4rem;
			object-fit: contain;
			display: inline-block;
		}

		/* Right side image card */
		.hero-right {
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.console-card {
			position: relative;
			width: 100%;          
			max-width: 480px;     
			aspect-ratio: 3 / 4;
			border-radius: 1.5rem;
			overflow: hidden;
			border: 4px solid #000;
			background: #eee;
	}

		.console-slide {
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
			opacity: 0;
			transform: scale(1);   /* ensure a default scale is set */
			transition: opacity 0.45s ease-in-out, transform 0.45s ease-in-out;
		}

		/* Only the active slide is visible */
		.console-slide.active {
			opacity: 1;
		}

		.carousel-arrow {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
			width: 48px;
			height: 48px;
			border-radius: 50%;
			border: none;
			background: rgba(255, 255, 255, 0.9);
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.8rem;
			cursor: pointer;
			box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25);
			transition: background 0.15s ease, transform 0.1s ease;
		}

		.carousel-arrow:hover {
			background: #fff;
			transform: translateY(-50%) translateY(1px);
		}


		.carousel-arrow.left { left: 0.8rem; }

		.carousel-arrow.right { right: 0.8rem; }

		/* ---------- WHY SECTION (bottom) ---------- */
		.why-section {
			margin-top: 2rem;
			background-image: url("assets/Home/Background.png");
			background-size: cover;
			background-position: center;
			padding: 3rem 0 4rem;
			color: #fff;
		}

		.why-inner {
			max-width: 1150px;
			margin: 0 auto;
		}

		.why-header-box {
			max-width: 800px;
			margin: 0 auto 2.5rem;
			background: #000;
			border-radius: 0.5rem;
			padding: 0.9rem 2.5rem;
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 1rem;
		}

		.why-title {
			font-family: "Playfair Display", serif;
			font-size: 2rem;
			text-align: center;
			flex: 1;
		}

		.why-header-logo {
			width: 130px;
			height: auto;
		}

		.why-panels {
			font-family: "Inter", sans-serif;
			font-weight: 700;

			display: grid;
			grid-template-columns: repeat(2, minmax(0, 1fr));
			gap: 2rem;
		}

		.why-card {
			background: rgba(128, 157, 179, 0.98);
			border-radius: 1.5rem;
			padding: 2.2rem 3rem;
			color: #fff;
		}

		.why-card h3 {
			font-family: "Playfair Display", serif;
			font-size: 1.7rem;
			margin-bottom: 1.5rem;
			text-decoration: underline;
			text-underline-offset: 0.18em;
		}

		.why-features-list {
			list-style: none;
			font-size: 1.2rem;
			display: flex;
			flex-direction: column;
			gap: 0.8rem;
		}

		.why-features-list li {
			display: flex;
			align-items: center;
			gap: 0.5rem;
			font-weight: 600;
		}

		.why-check {
			font-size: 1.2rem;
		}

		.why-arrow {
			margin-left: 0.2rem;
			font-size: 1.05rem;
		}

		.muted {
			opacity: 0.55;
			font-weight: 500;
		}

		/* gallery grid */
		.why-gallery {
			display: grid;
			grid-template-columns: repeat(2, minmax(0, 1fr));
			gap: 1rem;
			margin-top: 0.5rem;
		}

		/* clickable thumbnail wrapper */
		.why-thumb {
			position: relative;
			border-radius: 0.4rem;
			overflow: hidden;
			cursor: pointer;
			transform: translateZ(0);
			transition: transform 0.25s ease, box-shadow 0.25s ease;
			box-shadow: 0 0 0 rgba(0, 0, 0, 0.2);
			border: none;
			padding: 0;
			background: transparent;
		}

		.why-thumb img {
			width: 100%;
			aspect-ratio: 4 / 3;
			object-fit: cover;
			pointer-events: none;
		}

		.why-thumb:hover,
		.why-thumb:focus-visible {
			transform: scale(1.06);
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.45);
			z-index: 1;
		}

		.why-thumb:focus-visible {
			outline: 3px solid #fff;
			outline-offset: 2px;
		}

		/* ---------- Lightbox modal for board images ---------- */
		.image-modal {
			position: fixed;
			inset: 0;
			display: flex;
			align-items: center;
			justify-content: center;
			background: rgba(0, 0, 0, 0.7);
			opacity: 0;
			visibility: hidden;
			transition: opacity 0.25s ease;
			z-index: 999;
		}

		.image-modal.open {
			opacity: 1;
			visibility: visible;
		}

		.image-modal-content {
			position: relative;
			max-width: 95vw;   /* never wider than the viewport */
			max-height: 90vh;  /* never taller than the viewport */
			transform: scale(0.96);
			transition: transform 0.25s ease;
		}

		.image-modal.open .image-modal-content {
			transform: scale(1);
		}

		.image-modal-img {
			max-width: 100%;
			max-height: 90vh;  /* hard cap on height */
			width: auto;
			height: auto;
			object-fit: contain;  /* keeps aspect ratio, fits inside box */
			border-radius: 0.75rem;
			background: #000;
		}

		.image-modal-close {
			position: absolute;
			top: -14px;
			right: -14px;
			width: 34px;
			height: 34px;
			border-radius: 50%;
			border: none;
			background: #ffffff;
			color: #000;
			font-size: 1.2rem;
			font-weight: 700;
			cursor: pointer;
			box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
			display: flex;
			align-items: center;
			justify-content: center;
			transition: background 0.15s ease, transform 0.1s ease;
		}

		.image-modal-close:hover {
			background: #ddd;
			transform: translateY(1px);
		}

		/* ---------- Footer Contact Button ---------- */
		footer {
			padding: 1.8rem 0 2.4rem;
			background: #000;
			color: #fff;
			text-align: center;
			font-size: 0.9rem;
		}

		.footer-contact {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.8rem;
		}

		.footer-contact p {
			font-size: 0.95rem;
		}

		.footer-contact .contact-btn {
			font-family: "Playfair Display", serif;
			font-size: 1.3rem;
			padding: 0.5rem 2rem;
			border-radius: 999px;
			border: 3px solid #000;
			background: #d97917;
			color: #000;
			box-shadow: 0 3px 0 #000;
			cursor: pointer;
			transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
		}

		.font-inter-black {
  		font-family: "Inter", sans-serif;
  		font-weight: 900;
		}
		
				/* Base nav layout (already similar to what you have) */
		.nav {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0.75rem 0;
		}

		.nav-center {
			display: flex;
			gap: 3rem;
			font-family: "Playfair Display", serif;
			font-size: 1.5rem;
		}

		.nav-link {
			position: relative;
			padding-bottom: 0.2rem;
		}

		.nav-link::after {
			content: "";
			position: absolute;
			left: 0;
			bottom: 0;
			width: 0;
			height: 2px;
			background: currentColor; /* works in light + dark mode */
			transition: width 0.2s ease-out;
		}

		.nav-link:hover::after,
			.nav-link.active::after {
			width: 100%;
		}

		/* Mobile toggle button: hidden on desktop */
		.nav-toggle {
			display: none;
			border: 2px solid #000;
			border-radius: 999px;
			background: #fff;
			padding: 0.25rem 0.6rem;
			font-size: 1.2rem;
			cursor: pointer;
		}

		.no-scroll {
			overflow: hidden !important;
  			height: 100vh;
		}

		/* ------- Mobile layout ------- */
		@media (max-width: 960px) {
			.why-section {
				overflow: hidden;
			}

			.why-inner {
				width: min(100% - 2rem, 100%);
				margin: 0 auto;
			}

			.why-panels{
				grid-template-columns: 1fr;
				gap: 1.5rem;
			}

			.why-card {
				width: 100%;
				margin: 0 auto;
			}
			
			.why-header-box {
				flex-direction: column;        /* stack text over logo */
				align-items: center;
				justify-content: center;
				text-align: center;
				gap: 0.5rem;
			}

			.why-header-logo {
				max-width: 120px;              /* shrink it a bit on small screens */
				height: auto;
				margin: 0;
			}
			.nav-center {
				display: none;
			}

			.nav-left {
				display: none;
			}

			.nav-toggle {
				display: inline-flex;
				align-items: center;
				justify-content: start;
			}

			header.nav-open .nav-center {
				display: flex;
				flex-direction: column;
				position: absolute;
				top: 100%;
				left: 0;
				right: 0;
				background: #111;
				color: #fff;
				padding: 0.75rem 1.25rem 1rem;
				gap: 0.75rem;
				border-bottom: 1px solid #333;
				font-size: 1.2rem;
			}

			header.nav-open .nav-link::after {
				background: #fff;
			}

			.hero-inner {
				display: grid;
				grid-template-columns: 1fr;   /* one column: text then carousel */
				gap: 1.8rem;
				justify-items: center;        /* center children horizontally */
			}

			.hero-left {
				text-align: center;
				padding-right: 0;
			}

			.hero-title {
				margin-inline: auto;
			}

			.hero-buttons {
				justify-content: center;
			}

			.hero-right {
				width: 100%;
				max-width: 420px;             /* keep carousel nicely sized */
			}

			/* Slightly tighter padding so the images can be bigger */
			.why-card {
				padding: 1.6rem 1.4rem 2rem;
			}

			/* Use a single column so each image can take full width */
			.why-gallery {
				grid-template-columns: 1fr;
				column-gap: 0.5rem;
				row-gap: 3.5rem;
				position: center;
			}

			.why-thumb img {
				width: 100%;
				aspect-ratio: 4 / 3;          /* keep the same shape */
				object-fit: cover;            /* fill the box nicely */
			}

			.why-features-list {
				font-size: 1.45rem;
				gap: 0.9rem;
			}

			footer {
				font-size: 0.75rem;
			}
		}

		/* Dark-mode tweak so the underline is visible on desktop too */
		body.dark-mode .nav-link::after {
			background: #f7f7f7;
		}

		body.dark-mode header.nav-open .nav-center {
			background: #111;
		}
	</style>
</head>
<body>
	<div class="page-wrapper">
		<!-- NAVBAR -->
		<header>
			<div class="container nav">
				<div class="nav-left">
					<a href="home.html">
						<img src="assets/logo/website_logo.png" alt="WareHouseX360 logo" class="logo-img">
					</a>
				</div>

				<!-- Toggle button for mobile -->
				<button class="nav-toggle" type="button" aria-label="Toggle navigation">
					☰
				</button>

				<nav class="nav-center">
					<a href="home.html" class="nav-link">Home</a>
					<a href="prebuilt.html" class="nav-link">Shop Pre-Built Consoles</a>
					<a href="send-in.html" class="nav-link">Send-In Service</a>
				</nav>

				<div class="nav-right">
					<button class="theme-toggle" type="button">
						<img src="assets/icons/mode_toggle.svg" class="theme-icon" alt="Toggle theme">
					</button>

					<a href="contact-us.html">
						<button class="contact-btn" type="button">Contact Us</button>
					</a>
				</div>
			</div>
		</header>


		<!-- Hero -->
		<main class="hero">
			<div class="container hero-inner">
				<!-- Left text -->
				<section class="hero-left">
					<h1 class="hero-title">
						<div class="font-inter-black">
							<span> Shop with ease at</span>
							<span> WareHouseX360</span>
						</div>
					</h1>

					<p class="hero-subtitle">
						View a Wide Variety of
					</p>
					<p class="hero-copy">
						Different Mods/Consoles
					</p>

					<div class="hero-buttons">
						<a href="#prebuilt">
							<button class="primary-btn">
								<img src="assets/icons/Pre-Built_Icon.svg" alt="" class="btn-icon">
								<span>Pre-Built Consoles</span>
							</button>
						</a>

						<a href="send-in.html">
							<button class="secondary-btn">
								<img src="assets/icons/Send-In_Icon.svg" alt="" class="btn-icon">
								<span>Send-in Services</span>
							</button>
						</a>
					</div>
				</section>

				<!-- Right image card with carousel -->
				<aside class="hero-right">
					<div class="console-card">
						<!-- Replace these with your real hero images -->
						<img src="assets/Home/Carousel_1.jpeg" alt="Xbox 360 Slim RGH3 with Blue LEDs" class="console-slide active">
						<img src="assets/Home/Carousel_2.jpg" alt="Halo 3 Xbox 360 JTAG with Orange LEDs" class="console-slide">
						<img src="assets/Home/Carousel_3.jpg" alt="Halo 4 Xbox 360 RGH3 Dual NAND with RGH3" class="console-slide">

						<button class="carousel-arrow left" type="button" aria-label="Previous console">‹</button>
						<button class="carousel-arrow right" type="button" aria-label="Next console">›</button>
					</div>
				</aside>
			</div>
		</main>

		<!-- WHY WAREHOUSEX360 SECTION -->
		<section class="why-section" id="why">
			<div class="why-inner">
				<div class="why-header-box">
					<h2 class="why-title">Why WarehouseX360?</h2>
					<!-- Replace with logo image used in screenshot -->
					<img src="assets/logo/website_logo.png" alt="WarehouseX360 logo" class="why-header-logo">
				</div>

				<div class="why-panels">
					<!-- Left card: features -->
					<div class="why-card">
						<div>
							<h3>Every Console Comes With:</h3>
							<ul class="why-features-list">
								<li><span class="why-check">✓</span> Guaranteed Warranty <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> Fresh Thermal Paste <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> Upgraded HDD <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> NAND Dumps <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> Full Refurbishment <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> Custom LEDs <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> Accessories Included <span class="why-arrow">›</span></li>
								<li><span class="why-check">✓</span> Pre-loaded Software <span class="why-arrow">›</span></li>
							</ul>
						</div>
					</div>

					<!-- Right card: board work gallery -->
					<div class="why-card">
						<h3>Past Board Work:</h3>
						<div class="why-gallery">
							<!-- Each image wrapped in .why-thumb for hover + click -->
							<button class="why-thumb" type="button">
								<img src="assets/Home/Image_1.jpeg" alt="Board work 1">
							</button>
							<button class="why-thumb" type="button">
								<img src="assets/Home/Image_2.jpg" alt="Board work 2">
							</button>
							<button class="why-thumb" type="button">
								<img src="assets/Home/Image_3.jpeg" alt="Board work 3">
							</button>
							<button class="why-thumb" type="button">
								<img src="assets/Home/Image_4.jpeg" alt="Board work 4">
							</button>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- FOOTER CONTACT -->
		<footer id="contact">
			<div class="footer-contact">
				<a href="contact-us.html">
					<button class="contact-btn">Contact Us</button>
				</a>
			</div>
			&copy; <span id="year"></span> WareHouseX360 – Send-In Modding &amp; Refurbishment Services
		</footer>
	</div>

	<!-- Lightbox modal markup -->
	<div class="image-modal" id="imageModal" aria-hidden="true">
		<div class="image-modal-content">
			<img src="" alt="Enlarged board image" class="image-modal-img" id="imageModalImg">
			<button class="image-modal-close" type="button" aria-label="Close image">&times;</button>
		</div>
	</div>

	<script>
		(function () {
		const modal = document.getElementById('imageModal');
		const modalImg = document.getElementById('imageModalImg');
		const closeBtn = document.querySelector('.image-modal-close');
		const thumbs = document.querySelectorAll('.why-thumb');

		let currentIndex = -1;
		let scrollPosition = 0;  // we'll store the scroll position here

		function openModal(index) {
			const wasOpen = modal.classList.contains('open'); // ✅ already open?

			currentIndex = index;
			const img = thumbs[currentIndex].querySelector('img');
			if (!img) return;

			modalImg.src = img.src;
			modalImg.alt = img.alt || 'Board work image';
			modal.classList.add('open');
			modal.setAttribute('aria-hidden', 'false');

			//Only lock scroll the FIRST time the modal opens
			if (!wasOpen) {
			scrollPosition = window.scrollY || window.pageYOffset || 0;

			document.body.classList.add('no-scroll');
			document.body.style.position = 'fixed';
			document.body.style.top = `-${scrollPosition}px`;
			document.body.style.left = '0';
			document.body.style.right = '0';
			document.body.style.width = '100%';
			}
		}

		function closeModal() {
			modal.classList.remove('open');
			modal.setAttribute('aria-hidden', 'true');
			modalImg.src = '';
			currentIndex = -1;

			//Unlock scroll and restore original position
			document.body.classList.remove('no-scroll');
			document.body.style.position = '';
			document.body.style.top = '';
			document.body.style.left = '';
			document.body.style.right = '';
			document.body.style.width = '';

			window.scrollTo(0, scrollPosition);
		}

		// Click thumbnails → open at that index
		thumbs.forEach((btn, index) => {
			btn.addEventListener('click', () => openModal(index));
		});

		// Close button (X)
		if (closeBtn) {
			closeBtn.addEventListener('click', closeModal);
		}

		//Click outside image → close
		modal.addEventListener('click', (e) => {
			if (e.target === modal) {
			closeModal();
			}
		});

		//Keyboard shortcuts: ESC, left arrow, right arrow
		document.addEventListener('keydown', (e) => {
			if (!modal.classList.contains('open')) return;

			if (e.key === 'Escape') {
			closeModal();
			} else if (e.key === 'ArrowRight') {
			const next = (currentIndex + 1) % thumbs.length;
			openModal(next);
			} else if (e.key === 'ArrowLeft') {
			const prev = (currentIndex - 1 + thumbs.length) % thumbs.length;
			openModal(prev);
			}
		});

		//Swipe left/right on mobile to change images
		let startX = 0;

		modal.addEventListener('touchstart', (e) => {
			if (!modal.classList.contains('open')) return;
			if (!e.touches || e.touches.length === 0) return;
			startX = e.touches[0].clientX;
		});

		modal.addEventListener('touchend', (e) => {
			if (!modal.classList.contains('open')) return;
			if (!e.changedTouches || e.changedTouches.length === 0) return;

			const endX = e.changedTouches[0].clientX;
			const diff = endX - startX;

			// basic threshold so tiny jitters don't trigger
			if (Math.abs(diff) > 50) {
			if (diff < 0) {
				// swipe left → next
				const next = (currentIndex + 1) % thumbs.length;
				openModal(next);
			} else {
				// swipe right → previous
				const prev = (currentIndex - 1 + thumbs.length) % thumbs.length;
				openModal(prev);
			}
			}
		});
		})();
	</script>


	<script>
	document.addEventListener('DOMContentLoaded', function () {
		/* --- Hero carousel (unchanged) --- */
		document.querySelectorAll('.console-card').forEach(function (card) {
		const slides = card.querySelectorAll('.console-slide');
		const nextBtn = card.querySelector('.carousel-arrow.right');
		const prevBtn = card.querySelector('.carousel-arrow.left');

		if (!slides.length) return;

		let currentIndex = 0;
		slides[0].classList.add('active');

		function showSlide(newIndex) {
			slides[currentIndex].classList.remove('active');
			currentIndex = (newIndex + slides.length) % slides.length;
			slides[currentIndex].classList.add('active');
		}

		if (nextBtn) {
			nextBtn.addEventListener('click', function () {
			showSlide(currentIndex + 1);
			});
		}

		if (prevBtn) {
			prevBtn.addEventListener('click', function () {
			showSlide(currentIndex - 1);
			});
		}
		});

		/* --- Board gallery lightbox + keyboard + SWIPE navigation --- */
		const modal   = document.getElementById('imageModal');
		const modalImg = document.getElementById('imageModalImg');
		const closeBtn = document.querySelector('.image-modal-close');
		const thumbs   = document.querySelectorAll('.why-thumb');

		let currentThumbIndex = -1;

		function openModalByIndex(index) {
		currentThumbIndex = index;
		const btn = thumbs[currentThumbIndex];
		const img = btn.querySelector('img');
		if (!img) return;

		modalImg.src = img.src;
		modalImg.alt = img.alt || 'Board work image';
		modal.classList.add('open');
		modal.setAttribute('aria-hidden', 'false');
		}

		function closeModal() {
		modal.classList.remove('open');
		modal.setAttribute('aria-hidden', 'true');
		modalImg.src = '';
		currentThumbIndex = -1;
		}

		// Click thumbnails → open that image
		thumbs.forEach(function (btn, index) {
		btn.addEventListener('click', function () {
			openModalByIndex(index);
		});
		});

		if (closeBtn) {
		closeBtn.addEventListener('click', closeModal);
		}

		// Click outside image → close
		modal.addEventListener('click', function (e) {
		if (e.target === modal) closeModal();
		});

		// Keyboard: Esc / ArrowLeft / ArrowRight
		document.addEventListener('keydown', function (e) {
		if (!modal.classList.contains('open')) return;

		if (e.key === 'Escape') {
			closeModal();
		} else if (e.key === 'ArrowRight') {
			const nextIndex = (currentThumbIndex + 1 + thumbs.length) % thumbs.length;
			openModalByIndex(nextIndex);
		} else if (e.key === 'ArrowLeft') {
			const prevIndex = (currentThumbIndex - 1 + thumbs.length) % thumbs.length;
			openModalByIndex(prevIndex);
		}
		});

		/* --- TOUCH SWIPE (for mobile) --- */
		let touchStartX = null;

		// start of touch
		modal.addEventListener('touchstart', function (e) {
		if (!modal.classList.contains('open')) return;
		if (e.touches.length > 0) {
			touchStartX = e.touches[0].clientX;
		}
		}, { passive: true });

		// end of touch → detect swipe direction
		modal.addEventListener('touchend', function (e) {
		if (!modal.classList.contains('open') || touchStartX === null) return;

		const endX = e.changedTouches[0].clientX;
		const deltaX = endX - touchStartX;
		const SWIPE_THRESHOLD = 50; // px

		if (Math.abs(deltaX) > SWIPE_THRESHOLD) {
			if (deltaX < 0) {
			// swipe left → next image
			const nextIndex = (currentThumbIndex + 1 + thumbs.length) % thumbs.length;
			openModalByIndex(nextIndex);
			} else {
			// swipe right → previous image
			const prevIndex = (currentThumbIndex - 1 + thumbs.length) % thumbs.length;
			openModalByIndex(prevIndex);
			}
		}

		touchStartX = null;
		}, { passive: true });
	});
	</script>

	
	<script>
    	// auto year
    	document.getElementById('year').textContent = new Date().getFullYear();
  	</script>

	<script>
		// Dark Mode Toggle
		const themeToggle = document.querySelector(".theme-toggle");
		const body = document.body;

		function applyTheme(theme){
			if(theme === "dark") body.classList.add("dark-mode");
			else body.classList.remove("dark-mode");
		}

		const savedTheme = localStorage.getItem("theme");
		if(savedTheme){ applyTheme(savedTheme); }
		else if(window.matchMedia("(prefers-color-scheme: dark)").matches){ applyTheme("dark"); }

		themeToggle.addEventListener("click", () => {
			const newTheme = body.classList.contains("dark-mode") ? "light" : "dark";
			localStorage.setItem("theme", newTheme);
			applyTheme(newTheme);
		});
  	</script>
	
	<script>
		// Mobile nav toggle
		const navToggle = document.querySelector('.nav-toggle');
		const headerEl  = document.querySelector('header');

		if (navToggle && headerEl) {
			navToggle.addEventListener('click', () => {
				headerEl.classList.toggle('nav-open');
			});

			// Close menu if you click a link (optional, nice on mobile)
			headerEl.querySelectorAll('.nav-center .nav-link').forEach(link => {
				link.addEventListener('click', () => {
					headerEl.classList.remove('nav-open');
				});
			});
		}
	</script>
</body>
</html>